<!DOCTYPE html>
<html>
<head>
  <title>Webhook Dashboard</title>
</head>
<body>

<h2 data-test-id="webhook-config">Webhook Configuration</h2>

<table border="1" data-test-id="webhook-logs-table">
  <thead>
    <tr>
      <th>Event</th>
      <th>Status</th>
      <th>Attempts</th>
    </tr>
  </thead>
  <tbody id="logs"></tbody>
</table>

<script>
fetch("http://localhost:8000/api/v1/webhooks", {
  headers: {
    "X-Api-Key": "key_test_abc123",
    "X-Api-Secret": "secret_test_xyz789"
  }
})
.then(res => res.json())
.then(data => {
  const tbody = document.getElementById("logs");
  data.data.forEach(log => {
    const tr = document.createElement("tr");
    tr.setAttribute("data-test-id", "webhook-log-item");
    tr.innerHTML = `
      <td>${log.event}</td>
      <td>${log.status}</td>
      <td>${log.attempts}</td>
    `;
    tbody.appendChild(tr);
  });
});
</script>

</body>
</html>
